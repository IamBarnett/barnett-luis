<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Problemas de Lógica Matemática en JavaScript</title>
</head>
<body>
    <h1>Problemas de Lógica Matemática</h1>

    <!-- Entrada y resultado para el palíndromo de doble base -->
    <label for="palindromoInput">Número para verificar si es un palíndromo de doble base:</label>
    <input type="number" id="palindromoInput" />
    <button onclick="verificarPalindromo()">Verificar</button>
    <p id="resultadoPalindromo"></p>

    <!-- Entrada y resultado para contar caracteres -->
    <label for="cadenaInput">Cadena para contar caracteres:</label>
    <input type="text" id="cadenaInput" />
    <button onclick="contarCaracteresCadena()">Contar</button>
    <p id="resultadoContar"></p>

    <!-- Entrada y resultado para año bisiesto -->
    <label for="anioInput">Año para verificar si es bisiesto:</label>
    <input type="number" id="anioInput" />
    <button onclick="verificarBisiesto()">Verificar</button>
    <p id="resultadoBisiesto"></p>

    <!-- Entrada y resultado para la sumatoria de primos -->
    <label for="primosInput">Número para calcular la sumatoria de primos debajo de:</label>
    <input type="number" id="primosInput" />
    <button onclick="sumarPrimos()">Sumar</button>
    <p id="resultadoPrimos"></p>

    <script type="module">
        // Función que verifica si un número es un palíndromo de doble base
        function esPalindromoDobleBase(t) {
            const isPalindrome = (str) => str === str.split('').reverse().join('');
            const base10 = t.toString();
            const base2 = t.toString(2);
            return isPalindrome(base10) && isPalindrome(base2);
        }

        // Función que cuenta la cantidad de caracteres en una cadena
        function contarCaracteres(t) {
            const count = {};
            for (let char of t) {
                count[char] = (count[char] || 0) + 1;
            }
            return count;
        }

        // Función que verifica si un año es bisiesto
        function esBisiesto(a) {
            return (a % 4 === 0 && a % 100 !== 0) || (a % 400 === 0);
        }

        // Función que calcula la sumatoria de todos los números primos debajo de un número dado
        function sumatoriaPrimos(n) {
            const esPrimo = (num) => {
                if (num < 2) return false;
                for (let i = 2; i <= Math.sqrt(num); i++) {
                    if (num % i === 0) return false;
                }
                return true;
            };

            let sum = 0;
            for (let i = 1; i <= n; i++) {
                if (esPrimo(i)) sum += i;
            }
            return sum;
        }

        // Función que se ejecuta al presionar el botón para verificar palíndromo de doble base
        window.verificarPalindromo = function() {
            const t = parseInt(document.getElementById('palindromoInput').value);
            const resultado = esPalindromoDobleBase(t);
            document.getElementById('resultadoPalindromo').innerText = resultado ? "Es un palíndromo de doble base." : "No es un palíndromo de doble base.";
        };

        // Función que se ejecuta al presionar el botón para contar caracteres
        window.contarCaracteresCadena = function() {
            const t = document.getElementById('cadenaInput').value;
            const resultado = contarCaracteres(t);
            document.getElementById('resultadoContar').innerText = JSON.stringify(resultado);
        };

        // Función que se ejecuta al presionar el botón para verificar año bisiesto
        window.verificarBisiesto = function() {
            const a = parseInt(document.getElementById('anioInput').value);
            const resultado = esBisiesto(a);
            document.getElementById('resultadoBisiesto').innerText = resultado ? "Es un año bisiesto." : "No es un año bisiesto.";
        };

        // Función que se ejecuta al presionar el botón para sumar primos
        window.sumarPrimos = function() {
            const n = parseInt(document.getElementById('primosInput').value);
            const resultado = sumatoriaPrimos(n);
            document.getElementById('resultadoPrimos').innerText = `La sumatoria de los primos es: ${resultado}`;
        };
    </script>
</body>
</html>
